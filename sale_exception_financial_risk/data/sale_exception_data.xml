<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data noupdate="1">
        <record model="exception.rule" id="sale_financial_risk_exceeds_sale_order_risk">
            <field name="name">This sale order exceeds the sales orders risk</field>
            <field
                name="description"
            >This sale order exceeds the sales orders risk</field>
            <field name="active" eval="True" />
            <field name="sequence" eval="40" />
            <field name="model">sale.order</field>
            <field name="code">
if obj.partner_id.risk_sale_order_limit and (
    (obj.partner_id.risk_sale_order + obj.risk_amount) > obj.partner_id.risk_sale_order_limit
): failed=True</field>
        </record>
        <record model="exception.rule" id="sale_financial_risk_exceeds_credit_limit">
            <field name="name">This sale order exceeds the credit limit</field>
            <field name="description">This order exceeds the credit limit</field>
            <field name="active" eval="True" />
            <field name="sequence" eval="50" />
            <field name="model">sale.order</field>
            <field name="code">
if obj.partner_id.credit_limit and (
    (obj.partner_id.risk_total + obj.risk_amount) > obj.partner_id.credit_limit
): failed=True</field>
        </record>
    </data>
</odoo>
