<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2017 Jairo Llopis <jairo.llopis@tecnativa.com>
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->
<odoo>
    <record id="view_order_form" model="ir.ui.view">
        <field name="name">Recommended products button</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form" />
        <field name="arch" type="xml">
            <xpath expr="//form//header//button[@name='action_draft']" position="after">
                <button
                    name="action_sale_order_product_recommendation_wiz"
                    states="draft,sent,sale"
                    string="Recommended Products"
                    type="object"
                />
            </xpath>
            <xpath
                expr="//control/create[@name='add_product_control']"
                position="before"
            >
                <create
                    name="add_product_recommendation_control"
                    string="Add a recommended product"
                    class="o_field_x2many_recommendation"
                    context="{'open_product_recommendation': True}"
                />
            </xpath>
        </field>
    </record>
</odoo>
