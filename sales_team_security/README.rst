===============================================
Sales documents permissions by channels (teams)
===============================================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:709c291e03000ac05c6e8f97900c31cb7ec9adfded256ce6bfabf6a62d20dd03
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Production%2FStable-green.png
    :target: https://odoo-community.org/page/development-status
    :alt: Production/Stable
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsale--workflow-lightgray.png?logo=github
    :target: https://github.com/OCA/sale-workflow/tree/16.0/sales_team_security
    :alt: OCA/sale-workflow
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/sale-workflow-16-0/sale-workflow-16-0-sales_team_security
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/sale-workflow&target_branch=16.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module adds a new "Sale" group called "User: Team documents", that
includes the proper permissions for showing only the information related to
that user sale team (having assigned that team/channel or no team at all,
independently from the assigned salesman):

* Contacts.
* Quotations/Sales Orders (implemented in sales_team_security_sale)
* Leads/Opportunities (implemented in sales_team_security_crm)

It also handles the propagation of the sales team from commercial partners to
the contacts, which standard doesn't do.

It also handles the sync (auto-creation and remove) of followers in company partners
and childs of them according to salesmans. Any example about it:
- Partner company > Salesman: Admin
- Partner company, Contact 1 > Without salesman
- Partner company, Contact 2 > Salesman: Demo
All these partners have these followers: Admin + Demo

And finally, there are rules for partners to be restricted to the own ones for
the group "User: Own Documents Only" for being coherent with the permission
scheme. Someone with this permission will see:

- Contacts without salesman nor team assigned.
- Contacts without salesman assigned, but the same team.
- Contacts with them as salesman, independently from the team.
- Contacts with them as follower.

For keeping consistent accesses, followers of the main and shipping/invoice
contacts are synced according the salesman of the children contacts

**Table of contents**

.. contents::
   :local:

Installation
============

At installation time, this module sets in all the contacts that have the sales
team empty the sales team of the parent, and sync followers in parent contacts
and invoice/shipping addresses. If you have a lot of contacts, this
operation can take a while.

Configuration
=============

#. Go to *Configuration > Users & Companies > Users*.
#. Open or create a user.
#. On the section "Sale", select "User: Team documents".

Known issues / Roadmap
======================

* This module modifies sales security groups hierarchy, so any other module
  doing something similar might conflict with this one.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/sale-workflow/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sales_team_security%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Tecnativa

Contributors
~~~~~~~~~~~~

* `Tecnativa <https://www.tecnativa.com>`__:

  * Pedro M. Baeza
  * Víctor Martínez
  * César A. Sánchez

* `Guadaltech <https://www.guadaltech.es>`__:

  * Ramón Bajona

* Iván Todorovich <ivan.todorovich@gmail.com>

* `Pesol <https://www.pesol.es>`__:

  * Jonathan Oscategui Taza <info@pesol.es>

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

.. |maintainer-pedrobaeza| image:: https://github.com/pedrobaeza.png?size=40px
    :target: https://github.com/pedrobaeza
    :alt: pedrobaeza
.. |maintainer-ivantodorovich| image:: https://github.com/ivantodorovich.png?size=40px
    :target: https://github.com/ivantodorovich
    :alt: ivantodorovich

Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:

|maintainer-pedrobaeza| |maintainer-ivantodorovich| 

This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/16.0/sales_team_security>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
